<!doctype HTML>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <title>Swarm AR</title>
  </head>
  <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<!--  <script src="https://raw.githack.com/jeromeetienne/AR.js/2.0.5/aframe/build/aframe-ar.js"></script>-->
  <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<!--  <script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>-->
  <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
  <script src="events.js"></script>

  <!--    <script src="https://rawgit.com/nicolocarpignoli/nicolocarpignoli.github.io/master/ar-click-events/events.js"></script>-->


  <body style="margin : 0; overflow: hidden;">
    <!--        <button><a href="http://www.w3schools.com">Click me!</a></button>-->
    <!-- we add detectionMode and matrixCodeType to tell AR.js to recognize barcode markers -->
    <a-scene embedded vr-mode-ui="enabled: false" arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">

      <a-assets>
        <a-asset-item id="spinning-cube" src="./models/spinning-cube.gltf"></a-asset-item>
        <a-asset-item id="swarm-logo" src="./models/swarm-logo-v2.gltf"></a-asset-item>
        <a-asset-item id="monkey-facing" src="./models/monkey-test-facing.gltf"></a-asset-item>
        <a-asset-item id="animated-asset" src="https://raw.githubusercontent.com/nicolocarpignoli/nicolocarpignoli.github.io/master/ar-click-events/models/CesiumMan.gltf"></a-asset-item>
      </a-assets>

      <a-marker markerhandler emitevents="true" cursor="rayOrigin: mouse" id="animated-marker" type='barcode' value='6'>
        <a-entity
            id="animated-model"
            gltf-model="#animated-asset"
            scale="2">
        </a-entity>
      </a-marker>

      <a-marker type='barcode' value='9'>
        <a-box
            position='0 0 0'
            color="blue"
            scale="4 1 1">Text</a-box>
      </a-marker>



      <a-marker id="spinning-cube-marker" type='barcode' value='8'>
        <a-entity
          position='0 0 2'
          animation-mixer
          gltf-model="#spinning-cube"
          scale="1 1 1">
        </a-entity>
      </a-marker>

      <a-marker id="monkey-marker" type='barcode' value='7'>
        <a-entity
            position='0 0.5 3'
            id="monkey-model"
            gltf-model="#monkey-facing"
            scale="2 2 2">
        </a-entity>
      </a-marker>

      <a-marker id="swarm-logo-marker" type='barcode' value='7'>
        <a-entity
            position='0 0.5 -2'
            id="swarm-logo-model"
            gltf-model="#swarm-logo"
            scale="2 4 2">
        </a-entity>
      </a-marker>

<!--Extra -->

      <!--        <a-marker type='barcode' value='https://d12hdzsqvicwwo.cloudfront.net/index.html'>-->
      <!--            <a-box position='0 0.5 0' color="yellow"></a-box>-->
      <!--        </a-marker>-->

      <!--          <a-marker preset="pattern" type="pattern" url="./patt/pattern-swarm.patt">-->
      <!--            <a-entity-->
      <!--                position='0 0 0'-->
      <!--                animation-mixer-->
      <!--                gltf-model="#spinning-cube"-->
      <!--                scale="1 1 1">-->
      <!--            </a-entity>-->
      <!--          </a-marker>-->

      <a-entity camera></a-entity>
    </a-scene>
    <script>
      const sceneEl = document.querySelector('a-scene');
      sceneEl.addEventListener('loaded', () => {
      	sceneEl.camera = new THREE.PerspectiveCamera();
      });
    </script>
  </body>
</html>
